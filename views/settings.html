{% extends "base.html" %}

{% block header %}
	<h1>Settings</h1>
{% endblock %}

{% block content %}
	<div class="container-fluid">
		<div class="col-md-4 col-sm-8 col-md-offset-4 col-sm-offset-2">
			{% for message in message %}
				{% include "alert.html" %}
			{% endfor %}
			<form action="/settings" method="post" role="form" class="panel panel-default">
				<input type="hidden" name="_id" value="{{user._id}}" />
				<div class="panel-body">
					<div class="form-group" data-react-component="Input" data-react-props="
							errorMsg: 'Please enter a username',
							required: true,
							attributes: {
								type: 'text',
								name: 'username',
								className: 'form-control',
								id: 'username',
								placeholder: 'Username',
								value: '{{user.username}}'
							}
					"></div>
					<div class="form-group" data-react-component="Input" data-react-props="
							errorMsg: 'Please enter a valid email address',
							required: true,
							validation: /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,
							attributes: {
								type: 'text',
								name: 'email',
								className: 'form-control',
								id: 'email',
								placeholder: 'Email',
								value: '{{user.email}}'
							}
					"></div>
					<div class="form-group" data-react-component="Input" data-react-props="
							errorMsg: 'Please enter a password',
							required: true,
							attributes: {
								type: 'password',
								name: 'password',
								id: 'password',
								placeholder: 'Password',
								className: 'form-control'
							}
					"></div>
					<div data-react-component="Input" data-react-props="
			 			tag: 'select',
			 			errorMsg: 'Please select an avatar',
			 			required: true,
			 			attributes: {
							type: 'select',
							name: 'avatar',
							id: 'avatar',
							placeholder: 'Avatar',
							className: 'form-control'
						},
						options: {{avatars|safe|replace('"','\'')}}
					"></div>
				</div>
				<div class="panel-footer">
					<button class="btn btn-primary btn-lg">Update</button>
				</div>
			</form>
		</div>
	</div>
{% endblock %}