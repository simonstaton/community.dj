{% extends "base.html" %}

{% block content %}

	<div class="column column-restricted central-padding-small">
		<div class="column-narrow align-center">
			<img src="images/logo-large.png" class="large-logo" />
			<p class="sub-heading">A free synchronised, collabarative and interactive community jukebox.</p>
			{% for message in message %}
				{% include "alert.html" %}
			{% endfor %}
			<form action="/settings" method="post" role="form" enctype="multipart/form-data">
				<div {%if not message[0] %} class="animated rubberBand" {% endif %}>
					<div data-react-component="Input" data-react-props="
							errorMsg: 'Please enter a username',
							required: true,
							attributes: {
								type: 'text',
								name: 'username',
								id: 'username',
								placeholder: 'Username',
								value: '{{user.username}}',
								autoComplete: 'off'
							}
					" class="form-input-wrapper input-user"></div>
					<div data-react-component="Input" data-react-props="
							errorMsg: 'Please enter a valid email address',
							required: true,
							validation: /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,
							attributes: {
								type: 'text',
								name: 'email',
								id: 'email',
								placeholder: 'Email',
								value: '{{user.email}}',
								autoComplete: 'off'
							}
					" class="form-input-wrapper input-email"></div>
					<div data-react-component="Input" data-react-props="
							errorMsg: 'Email addresses do not match',
							required: true,
							confirmational: 'email',
							validation: /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,
							attributes: {
								type: 'text',
								name: 'confirm_email',
								id: 'confirm_email',
								placeholder: 'Confirm Email',
								value: '{{user.email}}',
								autoComplete: 'off'
							}
					" class="form-input-wrapper"></div>
					<div data-react-component="Input" data-react-props="
							errorMsg: 'Please enter a password',
							required: true,
							attributes: {
								type: 'password',
								name: 'password',
								id: 'password',
								placeholder: 'Password',
								autoComplete: 'off'
							}
					" class="form-input-wrapper input-password"></div>
					<div data-react-component="Input" data-react-props="
							errorMsg: 'Passwords do not match',
							required: true,
							confirmational: 'password',
							attributes: {
								type: 'password',
								name: 'confirm_password',
								id: 'confirm_password',
								placeholder: 'Confirm Password',
								autoComplete: 'off'
							}
					" class="form-input-wrapper"></div>
					
					<div data-react-component="AvatarUpload" data-react-props="
							value: '{{user.avatar}}'
					"></div>
				</div>
				<div class="form-controls">
					<button class="btn">Update</button>
				</div>
			</form>
		</div>
	</div>

{% endblock %}