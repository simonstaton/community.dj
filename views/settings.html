{% extends "base.html" %}

{% block content %}
<div class="column column-restricted vertical-padding-large">
	<h1 class="align-center">Account Settings</h1>
	<div class="column1-2 align-center box-rounded">
		{% for message in message %}
			{% include "alert.html" %}
		{% endfor %}
		<form action="/settings" method="post" role="form" enctype="multipart/form-data">
			<input type="hidden" name="_id" value="{{user._id}}" />
			<div>
				<div data-react-component="Input" data-react-props="
						errorMsg: 'Please enter a username',
						required: true,
						attributes: {
							type: 'text',
							name: 'username',
							className: 'form-control',
							id: 'username',
							placeholder: 'Username',
							value: '{{user.username}}'
						}
				"></div>
				<div data-react-component="Input" data-react-props="
						errorMsg: 'Please enter a valid email address',
						required: true,
						validation: /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,
						attributes: {
							type: 'text',
							name: 'email',
							className: 'form-control',
							id: 'email',
							placeholder: 'Email',
							value: '{{user.email}}'
						}
				"></div>
				<div data-react-component="Input" data-react-props="
						errorMsg: 'Please enter a password',
						required: true,
						attributes: {
							type: 'password',
							name: 'password',
							id: 'password',
							placeholder: 'Password',
							className: 'form-control'
						}
				"></div>
				<img src="{{user.avatar}}" />
				<div data-react-component="Input" data-react-props="
						attributes: {
							type: 'file',
							name: 'avatar',
							id: 'avatar'
						}
				"></div>
			</div>
			<div class="vertical-padding-top">
				<button class="btn">Update</button>
			</div>
		</form>
	</div>
</div>
{% endblock %}